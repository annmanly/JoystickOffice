/*

    Copyright (c) {Year} Pocketz World. All rights reserved.

    This is a generated file, do not edit!

    Generated by {PackageName}
*/

#if UNITY_EDITOR

using System;
using System.Linq;
using UnityEngine;
using Highrise.Client;
using Highrise.Studio;
using Highrise.Lua;

namespace {ManagedNamespace}
\{
{$IsBehaviour}
    [AddComponentMenu("Lua/{ScriptName}")]
{#RequireComponent}
    [RequireComponent(typeof({TypeName}))]
{/RequireComponent}
{/IsBehaviour}
{$IsScriptableObject}
    [CreateAssetMenu(menuName = "Highrise/ScriptableObjects/{ScriptName}")]
{/IsScriptableObject}
    [LuaRegisterType(0x{TypeCode}, typeof({RuntimeType}))]
    public class {ManagedScriptName} : {BaseClass}
    \{
        private const string s_scriptGUID = "{ScriptGUID}";
        public override string ScriptGUID => s_scriptGUID;

{#Properties}
{$IsSerialized}
{$HeaderAttribute}
        [Header("{Param0}")]
{/HeaderAttribute}
{$TooltipAttribute}
        [Tooltip("{Param0}")]
{/TooltipAttribute}
{$RangeAttribute}
        [Range({Param0},{Param1})]
{/RangeAttribute}
{$SpaceAttribute}
        [Space]
{/SpaceAttribute}
{?IsLuaScriptType}
        [LuaScriptPropertyAttribute("{PropertyGUID}")]
{/}
        [SerializeField] public {TypeName} {MemberName} = {DefaultValue};
{/IsSerialized}
{#IsBinding}
        // Binding {MemberName} ({TypeName})
{/IsBinding}
{/Properties}

        protected override SerializedPropertyValue[] SerializeProperties()
        \{
            if (_script == null)
                return Array.Empty<SerializedPropertyValue>();

            return new SerializedPropertyValue[]
            \{
{#Properties}
                CreateSerializedProperty(_script.GetPropertyAt({Index}), {$IsSerialized}{MemberName}{/IsSerialized}{$IsBinding}null{/IsBinding}),
{/Properties}
            \};
        \}
    \}
\}

#endif
